(self.webpackChunkargon_dashboard_angular=self.webpackChunkargon_dashboard_angular||[]).push([[631],{61631:function(e,t,n){"use strict";n.r(t),n.d(t,{AuthLayoutModule:function(){return k}});var i=n(30738),r=n(61116),o=n(56728),c=n(66252),s=n(18194),a=n.n(s),l=n(93820);function u(e,t){1&e&&(l.TgZ(0,"div"),l._uU(1," El correo es requerido "),l.qZA())}function p(e,t){1&e&&(l.TgZ(0,"div"),l._uU(1," Debe ser un correo v\xe1lido "),l.qZA())}function g(e,t){if(1&e&&(l.TgZ(0,"div",23),l.YNc(1,u,2,0,"div",24),l.YNc(2,p,2,0,"div",24),l.qZA()),2&e){var n=l.oxw();l.xp6(1),l.Q6J("ngIf",null==n.email.errors?null:n.email.errors.required),l.xp6(1),l.Q6J("ngIf",null==n.email.errors?null:n.email.errors.email)}}function d(e,t){1&e&&(l.TgZ(0,"div"),l._uU(1," La contrase\xf1a es requerido "),l.qZA())}function m(e,t){if(1&e&&(l.TgZ(0,"div",23),l.YNc(1,d,2,0,"div",24),l.qZA()),2&e){var n=l.oxw();l.xp6(1),l.Q6J("ngIf",null==n.password.errors?null:n.password.errors.required)}}var Z=function(){function e(e,t){this.userService=e,this.router=t,this.user={email:"",password:""},this.userLogin=new o.cw({email:new o.NI(this.user.email,[o.kI.required,o.kI.email]),password:new o.NI(this.user.password,[o.kI.required])})}return e.prototype.ngOnInit=function(){},e.prototype.login=function(){var e=this;this.userLogin.valid&&this.userService.signIn(this.userLogin.value).subscribe(function(t){t&&(sessionStorage.setItem("user",JSON.stringify(t.user)),sessionStorage.setItem("token",JSON.stringify(t.token).replace(/['"]+/g,"")),e.router.navigateByUrl("/dashboard "))},function(e){console.log(e),a().fire({icon:"warning",text:"Nombre de usuario o contrase\xf1a incorrectos"})})},Object.defineProperty(e.prototype,"email",{get:function(){return this.userLogin.get("email")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return this.userLogin.get("password")},enumerable:!1,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(l.Y36(c.K),l.Y36(i.F0))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-login"]],decls:28,vars:4,consts:[[1,"header","bg-gradient-success","py-7","py-lg-8"],[1,"separator","separator-bottom","separator-skew","zindex-100"],["x","0","y","0","viewBox","0 0 2560 100","preserveAspectRatio","none","version","1.1","xmlns","http://www.w3.org/2000/svg"],["points","2560 0 2560 100 0 100",1,"fill-default"],[1,"container","mt--8","pb-5"],[1,"row","justify-content-center"],[1,"col-lg-5","col-md-7"],[1,"card","bg-secondary","shadow","border-0"],[1,"card-body","px-lg-5","py-lg-5"],["role","form",3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],[1,"input-group","input-group-alternative"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ni","ni-email-83"],["placeholder","Correo","type","email","formControlName","email",1,"form-control"],["class","alert",4,"ngIf"],[1,"form-group"],[1,"ni","ni-lock-circle-open"],["placeholder","Contrase\xf1a","type","password","formControlName","password",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-primary","my-4",3,"disabled"],[1,"row","mt-3"],[1,"alert"],[4,"ngIf"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.O4$(),l.TgZ(2,"svg",2),l._UZ(3,"polygon",3),l.qZA(),l.qZA(),l.qZA(),l.kcU(),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"div",6),l.TgZ(7,"div",7),l.TgZ(8,"div",8),l.TgZ(9,"form",9),l.NdJ("ngSubmit",function(){return t.login()}),l.TgZ(10,"div",10),l.TgZ(11,"div",11),l.TgZ(12,"div",12),l.TgZ(13,"span",13),l._UZ(14,"i",14),l.qZA(),l.qZA(),l._UZ(15,"input",15),l.qZA(),l.YNc(16,g,3,2,"div",16),l.qZA(),l.TgZ(17,"div",17),l.TgZ(18,"div",11),l.TgZ(19,"div",12),l.TgZ(20,"span",13),l._UZ(21,"i",18),l.qZA(),l.qZA(),l._UZ(22,"input",19),l.qZA(),l.YNc(23,m,2,1,"div",16),l.qZA(),l.TgZ(24,"div",20),l.TgZ(25,"button",21),l._uU(26,"Ingresar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l._UZ(27,"div",22),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(9),l.Q6J("formGroup",t.userLogin),l.xp6(7),l.Q6J("ngIf",t.email.invalid&&(t.email.dirty||t.email.touched)),l.xp6(7),l.Q6J("ngIf",t.password.invalid&&(t.password.dirty||t.password.touched)),l.xp6(2),l.Q6J("disabled",!t.userLogin.valid))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,r.O5],styles:[""]}),e}(),f=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-register"]],decls:71,vars:0,consts:[[1,"header","bg-gradient-danger","py-7","py-lg-8"],[1,"container"],[1,"header-body","text-center","mb-7"],[1,"row","justify-content-center"],[1,"col-lg-5","col-md-6"],[1,"text-white"],[1,"text-lead","text-light"],[1,"separator","separator-bottom","separator-skew","zindex-100"],["x","0","y","0","viewBox","0 0 2560 100","preserveAspectRatio","none","version","1.1","xmlns","http://www.w3.org/2000/svg"],["points","2560 0 2560 100 0 100",1,"fill-default"],[1,"container","mt--8","pb-5"],[1,"col-lg-6","col-md-8"],[1,"card","bg-secondary","shadow","border-0"],[1,"card-header","bg-transparent","pb-5"],[1,"text-muted","text-center","mt-2","mb-4"],[1,"text-center"],["href","javascript:void(0)",1,"btn","btn-neutral","btn-icon","mr-4"],[1,"btn-inner--icon"],["src","assets/img/icons/common/github.svg"],[1,"btn-inner--text"],["href","javascript:void(0)",1,"btn","btn-neutral","btn-icon"],["src","assets/img/icons/common/google.svg"],[1,"card-body","px-lg-5","py-lg-5"],[1,"text-center","text-muted","mb-4"],["role","form"],[1,"form-group"],[1,"input-group","input-group-alternative","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ni","ni-hat-3"],["placeholder","Name","type","text",1,"form-control"],[1,"ni","ni-email-83"],["placeholder","Email","type","email",1,"form-control"],[1,"input-group","input-group-alternative"],[1,"ni","ni-lock-circle-open"],["placeholder","Password","type","password",1,"form-control"],[1,"text-muted","font-italic"],[1,"text-success","font-weight-700"],[1,"row","my-4"],[1,"col-12"],[1,"custom-control","custom-control-alternative","custom-checkbox"],["id","customCheckRegister","type","checkbox",1,"custom-control-input"],["for","customCheckRegister",1,"custom-control-label"],[1,"text-muted"],["href","#!"],["type","button",1,"btn","btn-primary","mt-4"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"h1",5),l._uU(6,"Welcome!"),l.qZA(),l.TgZ(7,"p",6),l._uU(8,"Use these awesome forms to login or create new account in your project for free."),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"div",7),l.O4$(),l.TgZ(10,"svg",8),l._UZ(11,"polygon",9),l.qZA(),l.qZA(),l.qZA(),l.kcU(),l.TgZ(12,"div",10),l.TgZ(13,"div",3),l.TgZ(14,"div",11),l.TgZ(15,"div",12),l.TgZ(16,"div",13),l.TgZ(17,"div",14),l.TgZ(18,"small"),l._uU(19,"Sign up with"),l.qZA(),l.qZA(),l.TgZ(20,"div",15),l.TgZ(21,"a",16),l.TgZ(22,"span",17),l._UZ(23,"img",18),l.qZA(),l.TgZ(24,"span",19),l._uU(25,"Github"),l.qZA(),l.qZA(),l.TgZ(26,"a",20),l.TgZ(27,"span",17),l._UZ(28,"img",21),l.qZA(),l.TgZ(29,"span",19),l._uU(30,"Google"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(31,"div",22),l.TgZ(32,"div",23),l.TgZ(33,"small"),l._uU(34,"Or sign up with credentials"),l.qZA(),l.qZA(),l.TgZ(35,"form",24),l.TgZ(36,"div",25),l.TgZ(37,"div",26),l.TgZ(38,"div",27),l.TgZ(39,"span",28),l._UZ(40,"i",29),l.qZA(),l.qZA(),l._UZ(41,"input",30),l.qZA(),l.qZA(),l.TgZ(42,"div",25),l.TgZ(43,"div",26),l.TgZ(44,"div",27),l.TgZ(45,"span",28),l._UZ(46,"i",31),l.qZA(),l.qZA(),l._UZ(47,"input",32),l.qZA(),l.qZA(),l.TgZ(48,"div",25),l.TgZ(49,"div",33),l.TgZ(50,"div",27),l.TgZ(51,"span",28),l._UZ(52,"i",34),l.qZA(),l.qZA(),l._UZ(53,"input",35),l.qZA(),l.qZA(),l.TgZ(54,"div",36),l.TgZ(55,"small"),l._uU(56,"password strength: "),l.TgZ(57,"span",37),l._uU(58,"strong"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(59,"div",38),l.TgZ(60,"div",39),l.TgZ(61,"div",40),l._UZ(62,"input",41),l.TgZ(63,"label",42),l.TgZ(64,"span",43),l._uU(65,"I agree with the "),l.TgZ(66,"a",44),l._uU(67,"Privacy Policy"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(68,"div",15),l.TgZ(69,"button",45),l._uU(70,"Create account"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA())},directives:[o._Y,o.JL,o.F],styles:[""]}),e}(),v=n(33354),h=n(39176),A=n(529),b=n(9894),q=n(50901);function T(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",5),l.TgZ(1,"h4",6),l._uU(2),l.qZA(),l._UZ(3,"br"),l.TgZ(4,"form"),l.TgZ(5,"div",7),l.TgZ(6,"div",8),l.TgZ(7,"div",9),l.TgZ(8,"input",10),l.NdJ("ngModelChange",function(e){return l.CHM(n),l.oxw().document=e}),l.qZA(),l.qZA(),l.TgZ(9,"div",11),l.TgZ(10,"button",12),l.NdJ("click",function(){l.CHM(n);var e=l.oxw(),t=l.MAs(7);return e.searchBill(t)}),l._uU(11,"Buscar "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(2),l.Oqu(null==i.commerce?null:i.commerce.description),l.xp6(6),l.Q6J("ngModel",i.document),l.xp6(2),l.Jzz("color:white;background-color: ",null==i.commerce?null:i.commerce.color,"")}}function y(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"ul",19),l.TgZ(1,"li",20),l.TgZ(2,"div",21),l.TgZ(3,"span",22),l._uU(4,"Reference: "),l.qZA(),l._uU(5),l._UZ(6,"br"),l.TgZ(7,"span",22),l._uU(8,"Total: "),l.qZA(),l._uU(9),l.qZA(),l.TgZ(10,"div",23),l.TgZ(11,"button",24),l.NdJ("click",function(){var e=l.CHM(n).$implicit;return l.oxw(2).generatePayment(e.reference,e.total,e.description,e._id)}),l._uU(12,"Pagar "),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit;l.xp6(5),l.hij(" ",i.reference," "),l.xp6(4),l.hij(" ",i.total," ")}}function w(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",13),l.TgZ(1,"div",14),l.TgZ(2,"h5",15),l._uU(3,"Lista de facturas"),l.qZA(),l.TgZ(4,"button",16),l.NdJ("click",function(){return l.CHM(n).$implicit.dismiss("Cross click")}),l.TgZ(5,"span",17),l._uU(6,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.YNc(7,y,13,2,"ul",18),l.qZA()}if(2&e){var i=l.oxw();l.xp6(7),l.Q6J("ngForOf",i.bills)}}var x=function(){function e(e,t,n,i,r){this.activatedRouter=e,this.commerceService=t,this.billService=n,this.modalService=i,this.paymentService=r,this.baseUrlForImage=A.N.api+"commerce/getImage/",this.urlFrontend=A.N.urlFrontend,this.modalOptions={backdrop:"static",backdropClass:"customBackdrop"}}return e.prototype.ngOnInit=function(){var e=this;this.activatedRouter.queryParams.subscribe(function(t){e.nit=t.microsite}),this.commerceService.getCommerceForNit(this.nit).subscribe(function(t){e.commerce=t},function(t){e.openAlert("info","Ocurri\xf3 un error inesperado")})},e.prototype.searchBill=function(e){var t=this;this.billService.searchBillForDocument(this.document,this.commerce._id).subscribe(function(n){t.bills=n,t.openModal(e)},function(e){t.openAlert("info","No se encontraron facturas")})},e.prototype.generatePayment=function(e,t,n,i){var r=this;this.paymentService.generatePayment({reference:e,total:t,description:n,bill:i}).then(function(e){e&&(r.modalService.dismissAll(),window.open("https://checkout.wompi.co/p/?public-key=pub_test_NoArfbn1dTCcN61fSNV5cx38fVCc88bO&currency=COP&amount-in-cents="+t+"00&reference="+e.payment._id+"&redirect-url="+r.urlFrontend+"checkout"))},function(e){r.openAlert("warning","Error al generar el pago")})},e.prototype.openModal=function(e){var t=this;this.modalService.open(e,this.modalOptions).result.then(function(e){t.closeResult="Closed with: "+e},function(e){t.closeResult="Dismissed "+t.getDismissReason(e)})},e.prototype.openAlert=function(e,t){a().fire({icon:e,text:t})},e.prototype.getDismissReason=function(e){return e===b.If.ESC?"by pressing ESC":e===b.If.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.\u0275fac=function(t){return new(t||e)(l.Y36(i.gz),l.Y36(v.b),l.Y36(h.z),l.Y36(b.FF),l.Y36(q.t))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-commerce"]],decls:8,vars:2,consts:[[1,"header","py-7","py-lg-8"],[1,"container",2,"text-align","center"],["alt","Image placeholder","width","200px",3,"src"],["class","container",4,"ngIf"],["modalListBill",""],[1,"container"],[1,"display-5",2,"text-align","justify","color","#414141"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["type","text","id","exampleFormControlInput1","placeholder","Documento",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],["type","submit",1,"btn","btn-lg","btn-block",3,"click"],[1,"card","bg-secondary","border-0","mb-0"],[1,"modal-header"],["id","modal",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","list-group",4,"ngFor","ngForOf"],[1,"list-group"],[1,"list-group-item"],[2,"text-align","left"],[2,"font-weight","bold"],[2,"text-align","right"],[1,"btn","btn-success",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"img",2),l._UZ(3,"br"),l._UZ(4,"br"),l.qZA(),l.YNc(5,T,12,5,"div",3),l.qZA(),l.YNc(6,w,8,1,"ng-template",null,4,l.W1O)),2&e&&(l.xp6(2),l.s9C("src",t.baseUrlForImage+(null==t.commerce?null:t.commerce.logo),l.LSH),l.xp6(3),l.Q6J("ngIf",t.commerce))},directives:[r.O5,o._Y,o.JL,o.F,o.Fj,o.JJ,o.On,r.sg],styles:[""]}),e}(),_=n(82589),U=[{path:"login",component:Z},{path:"register",component:f},{path:"microsite",component:x},{path:"checkout",component:function(){function e(e,t,n,i,r,o){this.activatedRouter=e,this.commerceService=t,this.billService=n,this.modalService=i,this.paymentService=r,this.spinner=o,this.baseUrlForImage=A.N.api+"commerce/getImage/",this.urlFrontend=A.N.urlFrontend,this.modalOptions={backdrop:"static",backdropClass:"customBackdrop"}}return e.prototype.ngOnInit=function(){var e=this;this.spinner.show(),setTimeout(function(){e.spinner.hide()},5e3),this.activatedRouter.queryParams.subscribe(function(t){e.transactionId=t.id}),this.paymentService.getPaymentByTransaction(this.transactionId).subscribe(function(t){e.payment=t.payment,e.commerce=t.payment.bill.commerce},function(t){e.openAlert("info","Ocurri\xf3 un error inesperado")})},e.prototype.openModal=function(e){var t=this;this.modalService.open(e,this.modalOptions).result.then(function(e){t.closeResult="Closed with: "+e},function(e){t.closeResult="Dismissed "+t.getDismissReason(e)})},e.prototype.openAlert=function(e,t){a().fire({icon:e,text:t})},e.prototype.getDismissReason=function(e){return e===b.If.ESC?"by pressing ESC":e===b.If.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.\u0275fac=function(t){return new(t||e)(l.Y36(i.gz),l.Y36(v.b),l.Y36(h.z),l.Y36(b.FF),l.Y36(q.t),l.Y36(_.t2))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-commerce"]],decls:23,vars:12,consts:[[1,"header","bg-gradient-warning","pb-8","pt-5","pt-md-8"],[1,"container",2,"text-align","center"],["alt","Image placeholder","width","200px",3,"src"],[1,"container-fluid","mt--3"],[1,"container"],[1,"list-group"],[1,"list-group-item"],[1,"badge","rounded-pill","text-bg-warning"],["bdColor","rgb(106, 90, 205)"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"img",2),l._UZ(3,"br"),l._UZ(4,"br"),l.qZA(),l.qZA(),l.TgZ(5,"div",3),l.TgZ(6,"div",4),l.TgZ(7,"ul",5),l.TgZ(8,"li",6),l._uU(9),l.qZA(),l.TgZ(10,"li",6),l._uU(11),l.qZA(),l.TgZ(12,"li",6),l._uU(13,"Estado: "),l.TgZ(14,"span",7),l._uU(15),l.qZA(),l.qZA(),l.TgZ(16,"li",6),l._uU(17),l.qZA(),l.TgZ(18,"li",6),l._uU(19),l.ALo(20,"date"),l.ALo(21,"date"),l.qZA(),l.qZA(),l.qZA(),l._UZ(22,"ngx-spinner",8),l.qZA()),2&e&&(l.xp6(2),l.s9C("src",t.baseUrlForImage+(null==t.commerce?null:t.commerce.logo),l.LSH),l.xp6(7),l.hij("Referencia: ",null==t.payment?null:t.payment.reference,""),l.xp6(2),l.hij("Descripci\xf3n: ",null==t.payment?null:t.payment.description,""),l.xp6(4),l.Oqu(null==t.payment?null:t.payment.status),l.xp6(2),l.hij("Total: ",null==t.payment?null:t.payment.total,""),l.xp6(2),l.AsE(" Fecha: ",l.lcZ(20,7,null==t.payment?null:t.payment.createdAt)," ",l.xi3(21,9,null==t.payment?null:t.payment.createdAt,"shortTime"),""))},directives:[_.Ro],pipes:[r.uU],styles:[""]}),e}()}],k=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[r.ez,i.Bz.forChild(U),o.u5,o.UX,_.ef]]}),e}()}}]);